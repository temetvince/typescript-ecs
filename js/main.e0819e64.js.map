{"version":3,"file":"js/main.e0819e64.js","mappings":"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","sources":["webpack://typescript-ecs/webpack/runtime/chunk loaded","webpack://typescript-ecs/./src/App.css","webpack://typescript-ecs/./src/App.css?d9cd","webpack://typescript-ecs/./src/phaser/scenes/boot.ts","webpack://typescript-ecs/./src/ecs/EntityComponentSystem/Component.ts","webpack://typescript-ecs/./src/ecs/Components/Position.ts","webpack://typescript-ecs/./src/ecs/Components/Velocity.ts","webpack://typescript-ecs/./src/ecs/Components/Boid.ts","webpack://typescript-ecs/./src/ecs/EntityComponentSystem/ComponentContainer.ts","webpack://typescript-ecs/./src/ecs/EntityComponentSystem/Utils.ts","webpack://typescript-ecs/./src/ecs/EntityComponentSystem/Entity.ts","webpack://typescript-ecs/./src/ecs/EntityComponentSystem/EntityComponentSystem.ts","webpack://typescript-ecs/./src/ecs/Components/Color.ts","webpack://typescript-ecs/./src/ecs/EntityComponentSystem/System.ts","webpack://typescript-ecs/./src/ecs/Systems/Display.ts","webpack://typescript-ecs/./src/ecs/Systems/Movement.ts","webpack://typescript-ecs/./src/ecs/Components/Group.ts","webpack://typescript-ecs/./src/ecs/Systems/BoidBehavior.ts","webpack://typescript-ecs/./src/ecs/Systems/BoundaryCollision.ts","webpack://typescript-ecs/./src/ecs/Systems/GroupManager.ts","webpack://typescript-ecs/./src/ecs/Systems/ColorManager.ts","webpack://typescript-ecs/./src/ecs/Components/Wobble.ts","webpack://typescript-ecs/./src/ecs/Systems/Wobbler.ts","webpack://typescript-ecs/./src/ecs/GameSetup.ts","webpack://typescript-ecs/./src/phaser/scenes/main.ts","webpack://typescript-ecs/./src/phaser/Game.tsx","webpack://typescript-ecs/./src/App.tsx","webpack://typescript-ecs/./src/index.tsx","webpack://typescript-ecs/webpack/bootstrap","webpack://typescript-ecs/webpack/runtime/compat get default export","webpack://typescript-ecs/webpack/runtime/define property getters","webpack://typescript-ecs/webpack/runtime/hasOwnProperty shorthand","webpack://typescript-ecs/webpack/runtime/jsonp chunk loading","webpack://typescript-ecs/webpack/runtime/nonce","webpack://typescript-ecs/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `* {\n  margin: 0;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,SAAS;AACX\",\"sourcesContent\":[\"* {\\n  margin: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./App.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./App.css\";\n       export default content && content.locals ? content.locals : undefined;\n","export default class BootScene extends Phaser.Scene {\n  constructor() {\n    super('Boot');\n  }\n\n  preload() {\n    this.load.image('logo', '/assets/favicon.ico');\n  }\n\n  create() {\n    this.scene.start('Main');\n  }\n}\n","/**\n * A Component is a bundle of state. Each instance of a Component is\n * associated with a single Entity.\n *\n * Components have no API to fulfill.\n */\nexport abstract class Component {\n  /**\n   * Indicates whether the component has been modified and needs to be updated.\n   */\n  public isDirty: boolean = true;\n\n  /**\n   * Resets the dirty flag of the component.\n   */\n  public resetDirty(): void {\n    this.isDirty = false;\n  }\n}\n","import { Component } from '../EntityComponentSystem/Component';\n\n/**\n * The Position component represents the position of an entity in the game.\n * It stores x and y coordinates and provides methods to set, get, and compare positions.\n */\nexport class Position extends Component {\n  private x: number;\n  private y: number;\n\n  /**\n   * Constructs a new Position component.\n   *\n   * @param x - The initial x-coordinate.\n   * @param y - The initial y-coordinate.\n   */\n  constructor(x: number, y: number) {\n    super();\n    this.x = x;\n    this.y = y;\n  }\n\n  /**\n   * Sets both x and y coordinates.\n   *\n   * @param x - The x-coordinate.\n   * @param y - The y-coordinate.\n   * @returns The current instance of the Position component.\n   */\n  set(x: number, y: number): this {\n    this.x = x;\n    this.y = y;\n    this.isDirty = true;\n    return this;\n  }\n\n  /**\n   * Sets the x-coordinate.\n   *\n   * @param x - The x-coordinate.\n   * @returns The current instance of the Position component.\n   */\n  setX(x: number): this {\n    this.x = x;\n    this.isDirty = true;\n    return this;\n  }\n\n  /**\n   * Gets the x-coordinate.\n   *\n   * @returns The x-coordinate.\n   */\n  getX(): number {\n    return this.x;\n  }\n\n  /**\n   * Sets the y-coordinate.\n   *\n   * @param y - The y-coordinate.\n   * @returns The current instance of the Position component.\n   */\n  setY(y: number): this {\n    this.y = y;\n    this.isDirty = true;\n    return this;\n  }\n\n  /**\n   * Gets the y-coordinate.\n   *\n   * @returns The y-coordinate.\n   */\n  getY(): number {\n    return this.y;\n  }\n\n  /**\n   * Checks if the current position is equal to another position.\n   *\n   * @param other - The other position to compare with.\n   * @returns True if the positions are equal, false otherwise.\n   */\n  equals(other: Position): boolean {\n    return this.x === other.x && this.y === other.y;\n  }\n\n  /**\n   * Checks if the x-coordinate of this position is greater than the x-coordinate of another position.\n   *\n   * @param other - The other position to compare against.\n   * @returns True if the x-coordinate of this position is greater than the x-coordinate of the other position, false otherwise.\n   */\n  greaterThanX(other: Position): boolean {\n    return this.x > other.x;\n  }\n\n  /**\n   * Checks if the x-coordinate of this position is less than the x-coordinate of another position.\n   *\n   * @param other - The other position to compare against.\n   * @returns True if the x-coordinate of this position is less than the x-coordinate of the other position, false otherwise.\n   */\n  lessThanX(other: Position): boolean {\n    return this.x < other.x;\n  }\n\n  /**\n   * Checks if the y-coordinate of this position is greater than the y-coordinate of another position.\n   *\n   * @param other - The other position to compare against.\n   * @returns True if the y-coordinate of this position is greater than the y-coordinate of the other position, false otherwise.\n   */\n  greaterThanY(other: Position): boolean {\n    return this.y > other.y;\n  }\n\n  /**\n   * Checks if the y-coordinate of this position is less than the y-coordinate of another position.\n   *\n   * @param other - The other position to compare against.\n   * @returns True if the y-coordinate of this position is less than the y-coordinate of the other position, false otherwise.\n   */\n  lessThanY(other: Position): boolean {\n    return this.y < other.y;\n  }\n\n  /**\n   * Calculates the distance to another position.\n   *\n   * @param other - The other position.\n   * @returns The distance to the other position.\n   */\n  distanceTo(other: Position): number {\n    return Math.sqrt(\n      (this.x - other.x) * (this.x - other.x) +\n        (this.y - other.y) * (this.y - other.y),\n    );\n  }\n}\n","import { Component } from '../EntityComponentSystem/Component';\n\n/**\n * Represents the velocity of an object in a 2D space.\n */\nexport class Velocity extends Component {\n  private x: number;\n  private y: number;\n\n  /**\n   * Creates a new instance of the Velocity class.\n   * @param x The velocity along the x-axis.\n   * @param y The velocity along the y-axis.\n   */\n  constructor(x: number, y: number) {\n    super();\n    this.x = x;\n    this.y = y;\n  }\n\n  /**\n   * Sets the velocity along the x-axis.\n   * @param x The velocity along the x-axis.\n   * @returns The current Velocity instance.\n   */\n  setX(x: number): this {\n    this.x = x;\n    this.isDirty = true;\n    return this;\n  }\n\n  /**\n   * Gets the velocity along the x-axis.\n   * @returns The velocity along the x-axis.\n   */\n  getX(): number {\n    return this.x;\n  }\n\n  /**\n   * Sets the velocity along the y-axis.\n   * @param y The velocity along the y-axis.\n   * @returns The current Velocity instance.\n   */\n  setY(y: number): this {\n    this.y = y;\n    this.isDirty = true;\n    return this;\n  }\n\n  /**\n   * Gets the velocity along the y-axis.\n   * @returns The velocity along the y-axis.\n   */\n  getY(): number {\n    return this.y;\n  }\n\n  /**\n   * Sets the velocity along the x and y axes.\n   * @param x The velocity along the x-axis.\n   * @param y The velocity along the y-axis.\n   * @returns The current Velocity instance.\n   */\n  set(x: number, y: number): this {\n    this.x = x;\n    this.y = y;\n    this.isDirty = true;\n    return this;\n  }\n\n  /**\n   * Checks if this velocity is equal to another velocity.\n   * @param other The other velocity to compare with.\n   * @returns True if the velocities are equal, false otherwise.\n   */\n  equals(other: Velocity): boolean {\n    return this.x === other.x && this.y === other.y;\n  }\n}\n","import { Component } from '../EntityComponentSystem/Component';\n\n/**\n * The Boid component is a marker component used to identify entities\n * as boids within the Entity Component System (ECS).\n *\n * Marker components are used to tag entities without adding additional data.\n * This helps systems easily identify and process entities that have specific roles.\n *\n * In this case, the Boid component is used to tag entities that represent boids,\n * which are the individual agents in a boid simulation.\n */\nexport class Boid extends Component {}\n","import { Component } from './Component';\n\n/**\n * A type representing the class of a Component.\n * This is used to refer to Component types in a type-safe manner.\n */\nexport type ComponentClass<T extends Component> = abstract new (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ...args: any[]\n) => T;\n\n/**\n * This custom container is so that calling code can provide the\n * Component *instance* when adding (e.g., add(new Position(...))), and\n * provide the Component *class* otherwise (e.g., get(Position),\n * has(Position), delete(Position)).\n *\n * We now use `ComponentClass<T>` consistently instead of `Function` for type safety.\n * This avoids the broad `Function` type and ensures only valid component constructors\n * are used as keys.\n *\n * You might notice a footgun here: code that gets this object can\n * directly modify the Components inside (with add(...) and delete(...)).\n * This would screw up our ECS bookkeeping of mapping Systems to\n * Entities! We'll fix this later by only returning callers a view onto\n * the Components that can't change them.\n */\nexport class ComponentContainer {\n  private map = new Map<ComponentClass<Component>, Component>();\n\n  /**\n   * Adds a component to the container.\n   * @param component - The component to add.\n   */\n  public add(component: Component): void {\n    this.map.set(component.constructor as ComponentClass<Component>, component);\n  }\n\n  /**\n   * Retrieves a component of the specified type from the container.\n   * @param componentClass - The class of the component to retrieve.\n   * @returns The component of the specified type, or undefined if not found.\n   */\n  public get<T extends Component>(\n    componentClass: ComponentClass<T>,\n  ): T | undefined {\n    return this.map.get(componentClass) as T | undefined;\n  }\n\n  /**\n   * Checks if any component in the container is marked as dirty.\n   * @returns True if any component is dirty, false otherwise.\n   */\n  public isDirty(): boolean {\n    for (const component of this.map.values()) {\n      if (component.isDirty) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Resets the dirty state of the specified component class.\n   * @param componentClass - The component class to reset the dirty state for.\n   */\n  public resetDirty<T extends Component>(\n    componentClass: ComponentClass<T>,\n  ): void {\n    this.map.get(componentClass)?.resetDirty();\n  }\n\n  /**\n   * Checks if the container has a component of the specified type.\n   * @param componentClass - The class of the component to check.\n   * @returns True if the container has the component, false otherwise.\n   */\n  public has<T extends Component>(componentClass: ComponentClass<T>): boolean {\n    return this.map.has(componentClass);\n  }\n\n  /**\n   * Checks if the container has all the specified components.\n   * @param componentClasses - An iterable of component classes to check.\n   * @returns True if the container has all the components, false otherwise.\n   */\n  public hasAll<T extends Component>(\n    componentClasses: Iterable<ComponentClass<T>>,\n  ): boolean {\n    for (const cls of componentClasses) {\n      if (!this.map.has(cls)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Deletes a component from the container.\n   * @param componentClass - The class of the component to delete.\n   */\n  public delete<T extends Component>(componentClass: ComponentClass<T>): void {\n    this.map.delete(componentClass);\n  }\n}\n","import { Position } from '../Components/Position';\nimport Entity from './Entity';\nimport { EntityComponentSystem } from './EntityComponentSystem';\n\n/**\n * Finds and returns neighboring boids within the specified perception radius.\n *\n * @param entity - The current boid entity.\n * @param entities - Set of all entities.\n * @param position - The position of the current boid.\n * @param perceptionRadius - The radius within which to search for neighbors.\n * @returns An array of neighboring boid entities.\n */\nexport function getNeighbors(\n  ecs: EntityComponentSystem,\n  entity: Entity,\n  entities: Set<Entity>,\n  position: Position,\n  perceptionRadius: number,\n): Entity[] {\n  return Array.from(entities).filter((other) => {\n    if (other === entity) return false;\n    const otherPosition = ecs.getComponents(other)?.get(Position);\n    return (\n      otherPosition && position.distanceTo(otherPosition) < perceptionRadius\n    );\n  });\n}\n\n/**\n * Generates a UUID (Universally Unique Identifier) using a combination of timestamp and random numbers.\n *\n * @returns A string representing the generated UUID.\n */\nexport function uuid(): string {\n  let d = new Date().getTime();\n  let d2 =\n    (typeof performance !== 'undefined' && performance.now() * 1000) || 0;\n\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = Math.random() * 16;\n    const value = d > 0 ? (d + r) % 16 | 0 : (d2 + r) % 16 | 0;\n    d = Math.floor(d / 16);\n    d2 = Math.floor(d2 / 16);\n    return (c === 'x' ? value : (value & 0x3) | 0x8).toString(16);\n  });\n}\n","import { uuid } from './Utils';\n\nexport class Entity {\n  private constructor(private readonly id: string) {}\n\n  public static create(): Entity {\n    return new Entity(uuid());\n  }\n\n  public getId(): string {\n    return this.id;\n  }\n\n  public toString(): string {\n    return this.id;\n  }\n\n  public valueOf(): string {\n    return this.id;\n  }\n}\n\nexport default Entity;\n","import { Component } from './Component';\nimport { ComponentContainer, ComponentClass } from './ComponentContainer';\nimport { System } from './System';\nimport Entity from './Entity';\n\n/**\n * The EntityComponentSystem (ECS) is the main driver; it's the backbone of the engine that\n * coordinates Entities, Components, and Systems. You could have a single\n * one for your game, or make a different one for every level, or have\n * multiple for different purposes.\n */\nexport class EntityComponentSystem {\n  // Main state\n  private entities = new Map<Entity, ComponentContainer>();\n  private systems = new Map<System, Set<Entity>>();\n\n  // Bookkeeping for entities.\n  private entitiesToDestroy: Entity[] = [];\n\n  // API: Entities\n\n  /**\n   * Adds a new entity to the entity component system.\n   * @returns The newly created entity.\n   */\n  public addEntity(): Entity {\n    const entity = Entity.create();\n    this.entities.set(entity, new ComponentContainer());\n    return entity;\n  }\n\n  /**\n   * Marks `entity` for removal. The actual removal happens at the end\n   * of the next `update()`. This way we avoid subtle bugs where an\n   * Entity is removed mid-`update()`, with some Systems seeing it and\n   * others not.\n   * @param entity - The entity to remove.\n   */\n  public removeEntity(entity: Entity): void {\n    this.entitiesToDestroy.push(entity);\n  }\n\n  // API: Components\n\n  /**\n   * Adds a component to an entity.\n   * @param entity - The entity to add the component to.\n   * @param component - The component to add.\n   */\n  public addComponent(entity: Entity, component: Component): void {\n    this.entities.get(entity)?.add(component);\n    this.checkEntity(entity);\n  }\n\n  /**\n   * Retrieves the components associated with the specified entity.\n   * @param entity - The entity for which to retrieve the components.\n   * @returns The component container associated with the entity, or undefined if the entity has no components.\n   */\n  public getComponents(entity: Entity): ComponentContainer | undefined {\n    return this.entities.get(entity);\n  }\n\n  /**\n   * Removes a component from an entity.\n   * @param entity - The entity from which to remove the component.\n   * @param componentClass - The class of the component to remove (e.g., Position).\n   */\n  public removeComponent<T extends Component>(\n    entity: Entity,\n    componentClass: ComponentClass<T>,\n  ): void {\n    this.entities.get(entity)?.delete(componentClass);\n    this.checkEntity(entity);\n  }\n\n  // API: Systems\n\n  /**\n   * Adds a system to the Entity Component System.\n   * @param system - The system to be added.\n   */\n  public addSystem(system: System): void {\n    if (system.componentsRequired.size === 0) {\n      console.warn('System not added: empty Components list.', system);\n      return;\n    }\n\n    system.ecs = this;\n    this.systems.set(system, new Set());\n\n    for (const entity of this.entities.keys()) {\n      this.checkEntitySystem(entity, system);\n    }\n  }\n\n  /**\n   * Removes a system from the entity component system.\n   * @param system - The system to be removed.\n   */\n  public removeSystem(system: System): void {\n    this.systems.delete(system);\n  }\n\n  /**\n   * This is ordinarily called once per tick (e.g., every frame). It\n   * updates all Systems, then destroys any Entities that were marked\n   * for removal.\n   * @param context - The context to use for updating systems.\n   */\n  public update(context?: unknown): void {\n    for (const [system, entities] of this.systems.entries()) {\n      const entitiesToUse = new Set<Entity>();\n\n      for (const entity of entities) {\n        const components = this.getComponents(entity);\n        if (components?.isDirty()) {\n          entitiesToUse.add(entity);\n          for (const componentClass of system.dirtyComponents) {\n            if (components.has(componentClass)) {\n              components.resetDirty(componentClass);\n              // No need to break â€” reset all matching dirty flags\n            }\n          }\n        }\n      }\n\n      system.update(entitiesToUse, context);\n    }\n\n    while (this.entitiesToDestroy.length > 0) {\n      this.destroyEntity(this.entitiesToDestroy.pop());\n    }\n  }\n\n  /**\n   * Destroys an entity and removes it from the system.\n   * @param entity - The entity to destroy.\n   */\n  private destroyEntity(entity: Entity | undefined): void {\n    if (entity) {\n      this.entities.delete(entity);\n      for (const entities of this.systems.values()) {\n        entities.delete(entity);\n      }\n    }\n  }\n\n  /**\n   * Checks if an entity meets the requirements for any systems and updates the system's entities accordingly.\n   * @param entity - The entity to check.\n   */\n  private checkEntity(entity: Entity): void {\n    for (const system of this.systems.keys()) {\n      this.checkEntitySystem(entity, system);\n    }\n  }\n\n  /**\n   * Checks if an entity meets the requirements for a specific system and updates the system's entities accordingly.\n   * @param entity - The entity to check.\n   * @param system - The system to check against.\n   */\n  private checkEntitySystem(entity: Entity, system: System): void {\n    const have = this.entities.get(entity);\n    const need = system.componentsRequired;\n\n    if (have?.hasAll(need)) {\n      this.systems.get(system)?.add(entity);\n    } else {\n      this.systems.get(system)?.delete(entity);\n    }\n  }\n}\n","import { Component } from '../EntityComponentSystem/Component';\n\n/**\n * The Color component represents the color of an entity, typically a boid in this context.\n * It stores a color value as a string and provides methods to set and get the color.\n */\nexport class Color extends Component {\n  private color: string;\n\n  /**\n   * Constructs a new Color component.\n   *\n   * @param color - The initial color value as a string.\n   */\n  constructor(color: string) {\n    super();\n    this.color = color;\n  }\n\n  /**\n   * Sets the color of the entity.\n   *\n   * @param color - The new color value as a string.\n   * @returns The current instance of the Color component.\n   */\n  setColor(color: string): this {\n    this.color = color;\n    this.isDirty = true;\n    return this;\n  }\n\n  /**\n   * Gets the current color of the entity.\n   *\n   * @returns The current color value as a string.\n   */\n  getColor(): string {\n    return this.color;\n  }\n}\n","import { EntityComponentSystem } from './EntityComponentSystem';\nimport { ComponentClass } from './ComponentContainer';\nimport { Component } from './Component';\nimport Entity from './Entity';\n\n/**\n * A System cares about a set of Components. It will run on every Entity\n * that has that set of Components.\n *\n * A System must specify two things:\n *\n *  (1) The immutable set of Components it needs at compile time. (Its\n *      immutability isn't enforced by anything but my wrath.) We now use the\n *      type `ComponentClass<T>` to refer to a Component's constructor; i.e.,\n *      `Position` (class) rather than `new Position()` (instance).\n *\n *  (2) An update() method for what to do every frame (if anything).\n */\nexport abstract class System {\n  /**\n   * Set of Component constructor classes, ALL of which are required before the\n   * system is run on an entity.\n   *\n   * This should be defined at compile time and should never change.\n   */\n  public abstract componentsRequired: Set<ComponentClass<Component>>;\n\n  /**\n   * Set of Component constructor classes. If *ANY* of them become dirty, the\n   * System will be given that Entity during its update(). Components\n   * here need *not* be tracked by `componentsRequired`. To make this\n   * opt-in, we default this to the empty set.\n   */\n  public dirtyComponents: Set<ComponentClass<Component>> = new Set();\n\n  /**\n   * The ECS is given to all Systems. Systems contain most of the game\n   * code, so they need to be able to create, mutate, and destroy\n   * Entities and Components.\n   */\n  public ecs!: EntityComponentSystem;\n\n  /**\n   * update() is called on the System every frame.\n   * @param entities - The set of entities to update.\n   * @param context - The context to use for drawing.\n   */\n  public abstract update(entities: Set<Entity>, context?: unknown): void;\n}\n","import Phaser from 'phaser';\nimport { Position } from '../Components/Position';\nimport { Color } from '../Components/Color';\nimport { System } from '../EntityComponentSystem/System';\nimport Entity from '../EntityComponentSystem/Entity';\n\n/**\n * The Display system is responsible for rendering entities with a Position and Color component.\n * It uses Phaser to draw points representing the entities on the scene's canvas.\n *\n * Expects a Phaser.Scene passed into update() as the \"context\" parameter.\n */\nexport class Display extends System {\n  componentsRequired = new Set<typeof Position | typeof Color>([\n    Position,\n    Color,\n  ]);\n\n  private graphics?: Phaser.GameObjects.Graphics;\n  private lastScene?: Phaser.Scene;\n\n  /**\n   * Updates the Display system, rendering all entities with a Position and Color component.\n   *\n   * @param entities - The set of entities to be updated and rendered.\n   * @param context - The Phaser.Scene instance used for rendering (passed from the Scene).\n   */\n  update(entities: Set<Entity>, context?: unknown): void {\n    let scene: Phaser.Scene | undefined;\n\n    // Accept either a Scene or a Game\n    if (context instanceof Phaser.Scene) {\n      scene = context;\n    } else if (context instanceof Phaser.Game) {\n      // Prefer an active scene if a Game is passed\n      const activeScenes = context.scene.getScenes(true);\n      if (activeScenes.length > 0) scene = activeScenes[0];\n    } else {\n      // fallback: reuse lastScene if available\n      scene = this.lastScene;\n    }\n\n    if (!scene) return;\n    // ensure the scene exposes add.graphics()\n    if (typeof scene.add.graphics !== 'function') return;\n\n    // If scene changed, recreate graphics and hook up cleanup.\n    if (scene !== this.lastScene) {\n      this.graphics?.destroy();\n      this.graphics = scene.add.graphics();\n      this.lastScene = scene;\n\n      // Clean up graphics when the scene is shutdown/destroyed.\n      const cleanup = () => {\n        this.graphics?.destroy();\n        this.graphics = undefined;\n        this.lastScene = undefined;\n        scene.events.off('shutdown', cleanup);\n        scene.events.off('destroy', cleanup);\n      };\n      scene.events.once('shutdown', cleanup);\n      scene.events.once('destroy', cleanup);\n    }\n\n    if (!this.graphics) {\n      // Safety: try to create one if it doesn't exist\n      if (typeof scene.add.graphics === 'function') {\n        this.graphics = scene.add.graphics();\n      } else {\n        return;\n      }\n    }\n\n    // Clear previous frame drawing\n    this.graphics.clear();\n\n    for (const entity of entities) {\n      const components = this.ecs.getComponents(entity);\n      if (!components) continue;\n\n      const position = components.get(Position);\n      const color = components.get(Color);\n\n      if (position && color) {\n        this.renderEntity(scene, this.graphics, position, color);\n      }\n    }\n  }\n\n  /**\n   * Renders an individual entity on the canvas using Phaser Graphics.\n   *\n   * @param scene - Phaser.Scene the graphics object belongs to (unused but typed).\n   * @param graphics - Graphics object used to draw.\n   * @param position - The Position component of the entity.\n   * @param color - The Color component of the entity.\n   */\n  private renderEntity(\n    _scene: Phaser.Scene,\n    graphics: Phaser.GameObjects.Graphics,\n    position: Position,\n    color: Color,\n  ): void {\n    const colorVal = color.getColor();\n    const hex = this.colorToHex(colorVal);\n\n    // Replicates p5.strokeWeight(10)/point using a filled circle in Phaser.\n    const radius = 5;\n    graphics.fillStyle(hex, 1);\n    graphics.fillCircle(position.getX(), position.getY(), radius);\n  }\n\n  /**\n   * Convert common color formats to a Phaser hex number (0xRRGGBB)\n   */\n  private colorToHex(colorValue: unknown): number {\n    if (typeof colorValue === 'number') {\n      return colorValue;\n    }\n\n    if (typeof colorValue === 'string') {\n      const s = colorValue.trim();\n      // '#rrggbb'\n      if (s.startsWith('#')) {\n        return parseInt(s.slice(1), 16);\n      }\n\n      // try to parse css color names / rgb() using a canvas context (browser)\n      try {\n        const ctx = document.createElement('canvas').getContext('2d');\n        if (ctx) {\n          ctx.fillStyle = s; // set CSS color\n          const computed = ctx.fillStyle; // should return '#rrggbb' or 'rgba(...)'\n          if (typeof computed === 'string' && computed.startsWith('#')) {\n            return parseInt(computed.slice(1), 16);\n          }\n          // fallback: handle 'rgb(r,g,b)'\n          const rgb = computed.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)/i);\n          if (rgb) {\n            const r = parseInt(rgb[1], 10);\n            const g = parseInt(rgb[2], 10);\n            const b = parseInt(rgb[3], 10);\n            return (r << 16) + (g << 8) + b;\n          }\n        }\n      } catch {\n        // ignore and fallback\n      }\n    }\n\n    // Default white if unknown format\n    return 0xffffff;\n  }\n}\n","import { System } from '../EntityComponentSystem/System';\nimport { Position } from '../Components/Position';\nimport { Velocity } from '../Components/Velocity';\nimport { Boid } from '../Components/Boid';\nimport { Entity } from '../EntityComponentSystem/Entity';\n\n/**\n * The Movement system is responsible for updating the position of entities\n * based on their velocity.\n */\nexport class Movement extends System {\n  componentsRequired = new Set<typeof Position | typeof Velocity | typeof Boid>(\n    [Position, Velocity, Boid],\n  );\n  public dirtyComponents = new Set<typeof Position>([Position]);\n\n  /**\n   * Updates the Movement system, adjusting the position of each entity\n   * based on its velocity.\n   *\n   * @param entities - The set of entities to be updated.\n   */\n  update(entities: Set<Entity>): void {\n    for (const entity of entities) {\n      const components = this.ecs.getComponents(entity);\n      if (!components) continue;\n\n      const position = components.get(Position);\n      const velocity = components.get(Velocity);\n\n      if (position && velocity) {\n        this.updateEntityPosition(position, velocity);\n      }\n    }\n  }\n\n  /**\n   * Updates the position of a single entity based on its velocity.\n   *\n   * @param position - The Position component of the entity.\n   * @param velocity - The Velocity component of the entity.\n   */\n  private updateEntityPosition(position: Position, velocity: Velocity): void {\n    position.setX(position.getX() + velocity.getX());\n    position.setY(position.getY() + velocity.getY());\n  }\n}\n","import { Component } from '../EntityComponentSystem/Component';\n\n/**\n * The Group component represents the group identifier of an entity, typically a boid in this context.\n * It stores a numeric group ID and provides methods to set and get the ID.\n */\nexport class Group extends Component {\n  private id: string;\n\n  /**\n   * Constructs a new Group component.\n   *\n   * @param id - The initial group ID.\n   */\n  constructor(id: string) {\n    super();\n    this.id = id;\n  }\n\n  /**\n   * Sets the group ID of the entity.\n   *\n   * @param id - The new group ID.\n   * @returns The current instance of the Group component.\n   */\n  setId(id: string): this {\n    this.id = id;\n    this.isDirty = true;\n    return this;\n  }\n\n  /**\n   * Gets the current group ID of the entity.\n   *\n   * @returns The current group ID.\n   */\n  getId(): string {\n    return this.id;\n  }\n}\n","import Phaser from 'phaser';\nimport { System } from '../EntityComponentSystem/System';\nimport { Position } from '../Components/Position';\nimport { Velocity } from '../Components/Velocity';\nimport { Boid } from '../Components/Boid';\nimport { Group } from '../Components/Group';\nimport { getNeighbors } from '../EntityComponentSystem/Utils';\nimport Entity from '../EntityComponentSystem/Entity';\n\nconst PERCEPTION_RADIUS = 100;\nconst MAX_FORCE = 0.67;\nconst MAX_SPEED = 2;\nconst REPULSION_FORCE = 2; // Constant repulsion force between different groups\n\n/**\n * The BoidBehavior system is responsible for applying boid behaviors (alignment, cohesion, separation),\n * and handling boundary collisions.\n *\n * This version uses Phaser.Math.Vector2 instead of p5.js vectors.\n */\nexport class BoidBehavior extends System {\n  componentsRequired = new Set<\n    typeof Position | typeof Velocity | typeof Boid | typeof Group\n  >([Position, Velocity, Boid, Group]);\n  public dirtyComponents = new Set<typeof Velocity>([Velocity]);\n\n  /**\n   * Updates the BoidBehavior system, applying behaviors to all boids.\n   *\n   * @param entities - The set of entities to be updated.\n   * @param context - Optional Phaser.Scene/Game instance (unused here).\n   */\n  update(entities: Set<Entity>): void {\n    for (const entity of entities) {\n      const components = this.ecs.getComponents(entity);\n      if (!components) continue;\n\n      const position = components.get(Position);\n      const velocity = components.get(Velocity);\n      const group = components.get(Group);\n\n      if (!position || !velocity || !group) {\n        console.error(\n          `Entity ${entity.toString()} is missing required components.`,\n        );\n        continue;\n      }\n\n      const neighbors = getNeighbors(\n        this.ecs,\n        entity,\n        entities,\n        position,\n        PERCEPTION_RADIUS,\n      );\n      if (neighbors.length === 0) continue;\n\n      this.applyBoidBehaviors(\n        position,\n        velocity,\n        neighbors,\n        group,\n        MAX_FORCE,\n        MAX_SPEED,\n      );\n    }\n  }\n\n  /**\n   * Applies the Boids rules (separation, alignment, cohesion) to the boid's velocity.\n   *\n   * @param position - The position of the current boid.\n   * @param velocity - The velocity of the current boid.\n   * @param neighbors - Array of neighboring boid entities.\n   * @param group - The group of the current boid.\n   * @param maxForce - The maximum steering force.\n   * @param maxSpeed - The maximum speed.\n   */\n  private applyBoidBehaviors(\n    position: Position,\n    velocity: Velocity,\n    neighbors: Entity[],\n    group: Group,\n    maxForce: number,\n    maxSpeed: number,\n  ): void {\n    const alignment = new Phaser.Math.Vector2(0, 0);\n    const cohesion = new Phaser.Math.Vector2(0, 0);\n    const separation = new Phaser.Math.Vector2(0, 0);\n    const repulsion = new Phaser.Math.Vector2(0, 0);\n\n    for (const neighbor of neighbors) {\n      const components = this.ecs.getComponents(neighbor);\n      if (!components) continue;\n\n      const neighborPosition = components.get(Position);\n      const neighborVelocity = components.get(Velocity);\n      const neighborGroup = components.get(Group);\n\n      if (!neighborPosition || !neighborVelocity || !neighborGroup) continue;\n\n      const neighborVelVec = this.toVectorFromVelocity(neighborVelocity);\n      const neighborPosVec = this.toVectorFromPosition(neighborPosition);\n      const posVec = this.toVectorFromPosition(position);\n\n      alignment.add(neighborVelVec);\n      cohesion.add(neighborPosVec);\n\n      const distance = position.distanceTo(neighborPosition);\n      if (distance > 0) {\n        const diff = posVec.clone().subtract(neighborPosVec);\n        diff.scale(1 / distance);\n        separation.add(diff);\n      }\n\n      // Apply repulsion force if the boids are from different groups\n      if (group.getId() !== neighborGroup.getId()) {\n        const repulsionForce = posVec\n          .clone()\n          .subtract(neighborPosVec)\n          .normalize()\n          .scale(REPULSION_FORCE);\n        repulsion.add(repulsionForce);\n      }\n    }\n\n    this.applyForces(\n      alignment,\n      cohesion,\n      separation,\n      repulsion,\n      neighbors.length,\n      position,\n      velocity,\n      maxForce,\n      maxSpeed,\n    );\n  }\n\n  /**\n   * Converts Position or Velocity to a Phaser.Math.Vector2.\n   */\n  private toVectorFromPosition(component: Position): Phaser.Math.Vector2 {\n    return new Phaser.Math.Vector2(component.getX(), component.getY());\n  }\n\n  private toVectorFromVelocity(component: Velocity): Phaser.Math.Vector2 {\n    return new Phaser.Math.Vector2(component.getX(), component.getY());\n  }\n\n  /**\n   * Applies the calculated forces to the velocity.\n   */\n  private applyForces(\n    alignment: Phaser.Math.Vector2,\n    cohesion: Phaser.Math.Vector2,\n    separation: Phaser.Math.Vector2,\n    repulsion: Phaser.Math.Vector2,\n    neighborCount: number,\n    position: Position,\n    velocity: Velocity,\n    maxForce: number,\n    maxSpeed: number,\n  ): void {\n    if (neighborCount > 0) {\n      // average\n      const invCount = 1 / neighborCount;\n      alignment.scale(invCount);\n      cohesion.scale(invCount);\n      separation.scale(invCount);\n\n      // cohesion: steer towards center\n      const posVec = this.toVectorFromPosition(position);\n      cohesion.subtract(posVec);\n\n      // limit each steering vector\n      this.limitVector(alignment, maxForce);\n      this.limitVector(cohesion, maxForce);\n      this.limitVector(separation, maxForce);\n    }\n\n    // add repulsion (no averaging â€” it's already scaled)\n    // combine forces\n    const totalForce = new Phaser.Math.Vector2(0, 0)\n      .add(alignment)\n      .add(cohesion)\n      .add(separation)\n      .add(repulsion);\n\n    // Apply to velocity\n    const newVx = velocity.getX() + totalForce.x;\n    const newVy = velocity.getY() + totalForce.y;\n    velocity.set(newVx, newVy);\n\n    // limit overall speed\n    const limitedVelocity = this.toVectorFromVelocity(velocity);\n    this.limitVector(limitedVelocity, maxSpeed);\n    velocity.set(limitedVelocity.x, limitedVelocity.y);\n  }\n\n  /**\n   * Clamp vector length to max (in-place).\n   */\n  private limitVector(v: Phaser.Math.Vector2, max: number): void {\n    const len = v.length();\n    if (len > max && len > 0) {\n      v.setLength(max);\n    }\n  }\n}\n","import Phaser from 'phaser';\nimport { System } from '../EntityComponentSystem/System';\nimport { Position } from '../Components/Position';\nimport { Velocity } from '../Components/Velocity';\nimport { Boid } from '../Components/Boid';\nimport Entity from '../EntityComponentSystem/Entity';\n\n/**\n * The BoundaryCollision system handles collisions of boids with the canvas boundaries,\n * wrapping them around to the opposite side of the canvas.\n */\nexport class BoundaryCollision extends System {\n  componentsRequired = new Set<typeof Position | typeof Velocity | typeof Boid>(\n    [Position, Velocity, Boid],\n  );\n  public dirtyComponents = new Set<typeof Velocity>([Velocity]);\n\n  /**\n   * Updates the system by handling boundary wrapping for all entities.\n   *\n   * @param entities - The set of entities to be updated.\n   * @param context - Phaser.Scene (or similar) used for boundary detection.\n   */\n  update(entities: Set<Entity>, context?: unknown): void {\n    const scene = context as Phaser.Scene | undefined;\n    if (!scene) return;\n\n    // Prefer the scene scale manager; fallback to canvas or window size if necessary.\n    const width =\n      scene.scale.width || scene.sys.canvas.width || window.innerWidth;\n    const height =\n      scene.scale.height || scene.sys.canvas.height || window.innerHeight;\n\n    for (const entity of entities) {\n      const components = this.ecs.getComponents(entity);\n      if (!components) continue;\n\n      const position = components.get(Position);\n      const velocity = components.get(Velocity);\n\n      if (position && velocity) {\n        this.applyBoundaryWrapping(position, velocity, width, height);\n      }\n    }\n  }\n\n  /**\n   * Wraps the entity around the canvas boundaries.\n   *\n   * @param position - The Position component of the entity.\n   * @param velocity - The Velocity component of the entity.\n   * @param width - Width of the render area to use for wrapping.\n   * @param height - Height of the render area to use for wrapping.\n   */\n  private applyBoundaryWrapping(\n    position: Position,\n    velocity: Velocity,\n    width: number,\n    height: number,\n  ): void {\n    if (position.getX() < 0) {\n      position.setX(width);\n    } else if (position.getX() > width) {\n      position.setX(0);\n    }\n\n    if (position.getY() < 0) {\n      position.setY(height);\n    } else if (position.getY() > height) {\n      position.setY(0);\n    }\n  }\n}\n","import { Boid } from '../Components/Boid';\nimport { Group } from '../Components/Group';\nimport { Position } from '../Components/Position';\nimport Entity from '../EntityComponentSystem/Entity';\nimport { System } from '../EntityComponentSystem/System';\nimport { getNeighbors, uuid } from '../EntityComponentSystem/Utils';\n\nconst PERCEPTION_RADIUS = 150;\n\n/**\n * The GroupManager system manages the assignment of group identifiers to boids and their neighbors.\n */\nexport class GroupManager extends System {\n  componentsRequired = new Set<typeof Position | typeof Boid>([Position, Boid]);\n  public dirtyComponents = new Set<typeof Group>();\n\n  /**\n   * Updates the GroupManager system by assigning group IDs to boids and their neighbors.\n   *\n   * @param entities - The set of entities to be updated.\n   */\n  update(entities: Set<Entity>): void {\n    entities.forEach((entity) => {\n      const components = this.ecs.getComponents(entity);\n      if (!components) return;\n\n      let group = components.get(Group);\n      if (!group) {\n        group = this.assignGroupToEntity(entity);\n      }\n\n      const groupId = group.getId();\n      const neighbors = getNeighbors(\n        this.ecs,\n        entity,\n        entities,\n        components.get(Position) ??\n          (() => {\n            throw new Error('Position component is missing');\n          })(),\n        PERCEPTION_RADIUS,\n      );\n\n      neighbors.forEach((neighbor) => {\n        this.assignGroupToNeighbor(neighbor, groupId);\n      });\n    });\n  }\n\n  /**\n   * Assigns a new group to the given entity if it doesn't already have one.\n   *\n   * @param entity - The entity to assign the group to.\n   * @returns The newly assigned Group component.\n   */\n  private assignGroupToEntity(entity: Entity): Group {\n    const group = new Group(uuid());\n    this.ecs.addComponent(entity, group);\n    return group;\n  }\n\n  /**\n   * Assigns the given group ID to the neighbor if it doesn't already have one or has a different group ID.\n   *\n   * @param neighbor - The neighboring entity to assign the group to.\n   * @param groupId - The group ID to assign to the neighbor.\n   */\n  private assignGroupToNeighbor(neighbor: Entity, groupId: string): void {\n    const neighborComponents = this.ecs.getComponents(neighbor);\n    if (!neighborComponents) return;\n\n    let neighborGroup = neighborComponents.get(Group);\n    if (!neighborGroup) {\n      neighborGroup = new Group(groupId);\n      this.ecs.addComponent(neighbor, neighborGroup);\n    } else if (neighborGroup.getId() !== groupId) {\n      neighborGroup.setId(groupId);\n    }\n  }\n}\n","import { Color } from '../Components/Color';\nimport { Boid } from '../Components/Boid';\nimport { Group } from '../Components/Group';\nimport { Position } from '../Components/Position';\nimport { System } from '../EntityComponentSystem/System';\nimport { Entity } from '../EntityComponentSystem/Entity';\n\nconst TRANSITION_DURATION = 10000; // Duration of the color transition in milliseconds\n\n/**\n * The ColorManager system manages the assignment and gradual transition of colors for all entities.\n */\nexport class ColorManager extends System {\n  componentsRequired = new Set<typeof Position | typeof Boid | typeof Group>([\n    Position,\n    Boid,\n    Group,\n  ]);\n  public dirtyComponents = new Set<typeof Color>();\n\n  private transitionStartTime: number;\n  private startColor: { r: number; g: number; b: number; a: number };\n  private targetColor: { r: number; g: number; b: number; a: number };\n  private alpha?: number;\n\n  /**\n   * Creates a random color with the specified alpha value.\n   * @param alpha - The alpha (transparency) value for the color (0 to 1).\n   * 0 is fully transparent, 1 is fully opaque.\n   */\n  constructor(alpha?: number) {\n    super();\n    this.alpha = alpha;\n    this.transitionStartTime = Date.now();\n    this.startColor = this.getRandomColor(); // Initialize with a random start RGBA color\n    this.targetColor = this.getRandomColor(); // Initialize with a random target RGBA color\n  }\n\n  /**\n   * Updates the ColorManager system, ensuring all entities transition to the target color.\n   * @param {Set<Entity>} entities - The set of entities to be updated.\n   */\n  update(entities: Set<Entity>): void {\n    const now = Date.now();\n\n    const transitionProgress = Math.min(\n      (now - this.transitionStartTime) / TRANSITION_DURATION,\n      1,\n    );\n    const interpolatedColor = this.interpolateColor(\n      this.startColor,\n      this.targetColor,\n      transitionProgress,\n    );\n\n    entities.forEach((entity) => {\n      const components = this.ecs.getComponents(entity);\n      if (!components) return;\n\n      const color = components.get(Color);\n\n      const colorString = `rgba(${String(Math.round(interpolatedColor.r))}, ${String(Math.round(interpolatedColor.g))}, ${String(Math.round(interpolatedColor.b))}, ${String(interpolatedColor.a)})`;\n\n      if (!color) {\n        this.addColorComponent(entity, colorString);\n      } else {\n        color.setColor(colorString);\n      }\n    });\n\n    // If transition is complete, set up the next transition\n    if (transitionProgress >= 1) {\n      this.startColor = this.targetColor;\n      this.targetColor = this.getRandomColor();\n      this.transitionStartTime = now;\n    }\n  }\n\n  /**\n   * Adds a color component to the entity.\n   * @param {Entity} entity - The entity to add the color component to.\n   * @param {string} color - The color string.\n   */\n  private addColorComponent(entity: Entity, color: string): void {\n    const colorComponent = new Color(color);\n    this.ecs.addComponent(entity, colorComponent);\n  }\n\n  /**\n   * Interpolates between two RGBA colors.\n   * @param {object} startColor - The starting RGBA color.\n   * @param {object} endColor - The ending RGBA color.\n   * @param {number} fraction - The fraction of interpolation (0 to 1).\n   * @returns {object} - The interpolated RGBA color.\n   */\n  private interpolateColor(\n    startColor: { r: number; g: number; b: number; a: number },\n    endColor: { r: number; g: number; b: number; a: number },\n    fraction: number,\n  ): { r: number; g: number; b: number; a: number } {\n    return {\n      r: Math.round(startColor.r + (endColor.r - startColor.r) * fraction),\n      g: Math.round(startColor.g + (endColor.g - startColor.g) * fraction),\n      b: Math.round(startColor.b + (endColor.b - startColor.b) * fraction),\n      a: startColor.a + (endColor.a - startColor.a) * fraction,\n    };\n  }\n\n  /**\n   * Generates a random RGBA color.\n   * @returns {object} - The random RGBA color object.\n   */\n  private getRandomColor(): { r: number; g: number; b: number; a: number } {\n    return {\n      r: Math.floor(Math.random() * 256),\n      g: Math.floor(Math.random() * 256),\n      b: Math.floor(Math.random() * 256),\n      a: this.alpha !== undefined ? this.alpha : 1,\n    };\n  }\n}\n","import { Component } from '../EntityComponentSystem/Component';\n\n/**\n * The Wobble component stores the properties for the wobble effect,\n * including frequency, amplitude, and phase for both x and y directions.\n */\nexport class Wobble extends Component {\n  private frequencyX: number;\n  private frequencyY: number;\n  private amplitude: number;\n  private phaseX: number;\n  private phaseY: number;\n\n  /**\n   * Constructs a new Wobble component.\n   *\n   * @param frequencyX - The frequency of the wobble in the x-direction.\n   * @param amplitude - The amplitude of the wobble.\n   * @param phaseX - The phase of the wobble in the x-direction.\n   * @param phaseY - The phase of the wobble in the y-direction.\n   */\n  constructor(\n    frequencyX: number = 1,\n    amplitude: number = 1,\n    phaseX: number = 0,\n    phaseY: number = 0,\n  ) {\n    super();\n    this.frequencyX = frequencyX;\n    this.frequencyY = frequencyX; // Assuming frequencyY is the same as frequencyX for simplicity\n    this.amplitude = amplitude;\n    this.phaseX = phaseX;\n    this.phaseY = phaseY;\n  }\n\n  /**\n   * Gets the frequency of the wobble in the x-direction.\n   * @returns The frequency of the wobble in the x-direction.\n   */\n  getFrequencyX(): number {\n    return this.frequencyX;\n  }\n\n  /**\n   * Gets the frequency of the wobble in the y-direction.\n   * @returns The frequency of the wobble in the y-direction.\n   */\n  getFrequencyY(): number {\n    return this.frequencyY;\n  }\n\n  /**\n   * Gets the amplitude of the wobble.\n   * @returns The amplitude of the wobble.\n   */\n  getAmplitude(): number {\n    return this.amplitude;\n  }\n\n  /**\n   * Gets the phase of the wobble in the x-direction.\n   * @returns The phase of the wobble in the x-direction.\n   */\n  getPhaseX(): number {\n    return this.phaseX;\n  }\n\n  /**\n   * Gets the phase of the wobble in the y-direction.\n   * @returns The phase of the wobble in the y-direction.\n   */\n  getPhaseY(): number {\n    return this.phaseY;\n  }\n}\n","import { System } from '../EntityComponentSystem/System';\nimport { Wobble } from '../Components/Wobble';\nimport { Position } from '../Components/Position';\nimport { Boid } from '../Components/Boid';\nimport { Entity } from '../EntityComponentSystem/Entity';\n\n/**\n * The Wobbler system updates the wobble offsets for entities,\n * adding a smooth wobble effect to their movement.\n */\nexport class Wobbler extends System {\n  componentsRequired = new Set<typeof Wobble | typeof Position | typeof Boid>([\n    Wobble,\n    Position,\n    Boid,\n  ]);\n  public dirtyComponents = new Set<typeof Position>([Position]);\n\n  /**\n   * Updates the wobble offsets for each entity.\n   *\n   * @param entities - The set of entities to be updated.\n   */\n  update(entities: Set<Entity>): void {\n    const time = performance.now() / 1000; // Convert time to seconds\n\n    for (const entity of entities) {\n      const components = this.ecs.getComponents(entity);\n      if (!components) continue;\n\n      const wobble = components.get(Wobble);\n      const position = components.get(Position);\n\n      if (wobble && position) {\n        this.updateEntityWobble(position, wobble, time);\n      }\n    }\n  }\n\n  /**\n   * Updates the position of a single entity based on its wobble component.\n   *\n   * @param position - The Position component of the entity.\n   * @param wobble - The Wobble component of the entity.\n   * @param time - The current time in seconds.\n   */\n  private updateEntityWobble(\n    position: Position,\n    wobble: Wobble,\n    time: number,\n  ): void {\n    const offsetX =\n      Math.sin(time * wobble.getFrequencyX() + wobble.getPhaseX()) *\n      wobble.getAmplitude();\n    const offsetY =\n      Math.cos(time * wobble.getFrequencyY() + wobble.getPhaseY()) *\n      wobble.getAmplitude();\n\n    position.set(position.getX() + offsetX, position.getY() + offsetY);\n  }\n}\n","import { Position } from './Components/Position';\nimport { Velocity } from './Components/Velocity';\nimport { Boid } from './Components/Boid';\nimport { EntityComponentSystem } from './EntityComponentSystem/EntityComponentSystem';\nimport { Display } from './Systems/Display';\nimport { Movement } from './Systems/Movement';\nimport { BoidBehavior } from './Systems/BoidBehavior';\nimport { BoundaryCollision } from './Systems/BoundaryCollision';\nimport { GroupManager } from './Systems/GroupManager';\nimport { ColorManager } from './Systems/ColorManager';\nimport { Wobble } from './Components/Wobble';\nimport { Wobbler } from './Systems/Wobbler';\n\n/**\n * Options for setting up the game.\n * @property boidsCount - The number of boid entities to create.\n * @property transparency - The transparency level for the boids.\n * @property wobbleAmplitude - The amplitude of the wobble effect.\n */\nexport interface GameSetupOptions {\n  boidsCount?: number;\n  transparency?: number;\n  wobbleAmplitude?: number;\n}\n\n/**\n * Initializes the Entity Component System (ECS) and sets up the game entities and systems.\n *\n * @param options - The configuration options for setting up the game.\n *\n * @returns The initialized entity component system.\n */\nexport const GameSetup = (\n  gameSetupOptions?: GameSetupOptions,\n): EntityComponentSystem => {\n  const options = {\n    boidsCount: 150,\n    transparency: 0.8,\n    wobbleAmplitude: 0.5,\n    ...(gameSetupOptions || {}),\n  };\n  const ecs = new EntityComponentSystem();\n\n  // Initialize entities with Position, Velocity, Boid, and Wobble components\n  initializeEntities(ecs, options.boidsCount, options.wobbleAmplitude);\n\n  // Add systems to the ECS in the correct order\n  ecs.addSystem(new GroupManager());\n  ecs.addSystem(new ColorManager(options.transparency));\n  ecs.addSystem(new Wobbler());\n  ecs.addSystem(new BoidBehavior());\n  ecs.addSystem(new BoundaryCollision());\n  ecs.addSystem(new Movement());\n  ecs.addSystem(new Display());\n\n  return ecs;\n};\n\n/**\n * Initializes a specified number of entities with random Position, Velocity, Boid, and Wobble components.\n *\n * @param ecs - The Entity Component System to which the entities are added.\n * @param count - The number of entities to initialize.\n */\nconst initializeEntities = (\n  ecs: EntityComponentSystem,\n  count: number,\n  wobbleAmplitude: number,\n): void => {\n  for (let i = 0; i < count; i++) {\n    const position = getRandomPosition();\n    const velocity = getRandomVelocity();\n    const wobble = getRandomWobble(wobbleAmplitude);\n\n    const entity = ecs.addEntity();\n    ecs.addComponent(entity, position);\n    ecs.addComponent(entity, velocity);\n    ecs.addComponent(entity, new Boid());\n    ecs.addComponent(entity, wobble);\n  }\n};\n\n/**\n * Generates a random position within the window boundaries.\n *\n * @returns A new Position component with random coordinates.\n */\nconst getRandomPosition = (): Position => {\n  const x = Math.random() * window.innerWidth;\n  const y = Math.random() * window.innerHeight;\n  return new Position(x, y);\n};\n\n/**\n * Generates a random velocity.\n *\n * @returns A new Velocity component with random velocity values.\n */\nconst getRandomVelocity = (): Velocity => {\n  const vx = Math.random() * 2 - 1;\n  const vy = Math.random() * 2 - 1;\n  return new Velocity(vx, vy);\n};\n\n/**\n * Generates a random wobble component.\n *\n * @param wobbleAmplitude - The amplitude of the wobble effect.\n * @returns A new Wobble component with random frequency and phase values.\n */\nconst getRandomWobble = (wobbleAmplitude: number): Wobble => {\n  const frequency = Math.random() * 0.5 + 0.5; // Random frequency for different wobble speeds\n  const phaseX = Math.random() * Math.PI * 2;\n  const phaseY = Math.random() * Math.PI * 2;\n  return new Wobble(frequency, wobbleAmplitude, phaseX, phaseY);\n};\n","import { EntityComponentSystem } from '../../ecs/EntityComponentSystem/EntityComponentSystem';\nimport { GameSetup } from '../../ecs/GameSetup';\n\nexport default class MainScene extends Phaser.Scene {\n  private ecs!: EntityComponentSystem;\n\n  constructor() {\n    super('Main');\n  }\n\n  create() {\n    this.ecs = GameSetup();\n  }\n\n  update(): void {\n    this.ecs.update(this.game);\n  }\n}\n","import React, { useEffect, useRef } from 'react';\nimport Phaser from 'phaser';\nimport BootScene from './scenes/boot';\nimport MainScene from './scenes/main';\n\ninterface GameProps {\n  config?: Phaser.Types.Core.GameConfig;\n}\n\nconst Game: React.FC<GameProps> = ({ config }) => {\n  const gameRef = useRef<Phaser.Game | null>(null);\n  const parentRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!parentRef.current) return;\n\n    const defaultConfig: Phaser.Types.Core.GameConfig = {\n      type: Phaser.AUTO,\n      parent: parentRef.current,\n      width: '100%',\n      height: '100%',\n      backgroundColor: 'black',\n      physics: {\n        default: 'arcade',\n        arcade: { gravity: { x: 0, y: 0 } },\n      },\n      scene: [BootScene, MainScene],\n      scale: {\n        mode: Phaser.Scale.RESIZE,\n        autoCenter: Phaser.Scale.CENTER_BOTH,\n      },\n    };\n\n    const game = new Phaser.Game({ ...defaultConfig, ...config });\n    gameRef.current = game;\n\n    return () => {\n      game.destroy(true);\n      gameRef.current = null;\n    };\n  }, [config]);\n\n  return (\n    <div\n      ref={parentRef}\n      style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n        zIndex: -1,\n      }}\n    />\n  );\n};\n\nexport default Game;\n","import React from 'react';\n\nimport './App.css';\nimport Game from './phaser/Game';\n\nexport default function App() {\n  return (\n    <div\n      style={{\n        position: 'relative',\n        width: '100vw',\n        height: '100vh',\n        backgroundColor: 'black',\n        zIndex: 0,\n      }}\n    >\n      <div id='game'>\n        <Game />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\n\nif (rootElement) {\n  const root = createRoot(rootElement);\n  root.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n  );\n} else {\n  console.error('Root element not found');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktypescript_ecs\"] = self[\"webpackChunktypescript_ecs\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96], () => (__webpack_require__(644)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","BootScene","Phaser","Scene","constructor","super","preload","this","load","image","create","scene","start","Component","resetDirty","isDirty","Position","x","y","set","setX","getX","setY","getY","equals","other","greaterThanX","lessThanX","greaterThanY","lessThanY","distanceTo","Math","sqrt","Velocity","Boid","ComponentContainer","Map","add","component","map","get","componentClass","values","_this$map$get","has","hasAll","componentClasses","cls","delete","getNeighbors","ecs","entity","entities","position","perceptionRadius","Array","from","filter","_ecs$getComponents","otherPosition","getComponents","uuid","d","Date","getTime","d2","performance","now","replace","c","r","random","value","floor","toString","Entity","getId","valueOf","EntityComponentSystem","_defineProperty","addEntity","removeEntity","entitiesToDestroy","addComponent","_this$entities$get","checkEntity","removeComponent","_this$entities$get2","addSystem","system","componentsRequired","size","systems","Set","keys","checkEntitySystem","console","warn","removeSystem","update","context","entries","entitiesToUse","components","dirtyComponents","length","destroyEntity","pop","have","need","_this$systems$get","_this$systems$get2","Color","color","setColor","getColor","System","Display","arguments","activeScenes","getScenes","lastScene","graphics","_this$graphics","destroy","cleanup","_this$graphics2","undefined","events","off","once","clear","renderEntity","_scene","colorVal","hex","colorToHex","fillStyle","fillCircle","colorValue","s","trim","startsWith","parseInt","slice","ctx","document","createElement","getContext","computed","rgb","match","_unused","Movement","velocity","updateEntityPosition","Group","setId","BoidBehavior","group","error","concat","neighbors","applyBoidBehaviors","maxForce","maxSpeed","alignment","Vector2","cohesion","separation","repulsion","neighbor","neighborPosition","neighborVelocity","neighborGroup","neighborVelVec","toVectorFromVelocity","neighborPosVec","toVectorFromPosition","posVec","distance","diff","clone","subtract","scale","repulsionForce","normalize","applyForces","neighborCount","invCount","limitVector","totalForce","newVx","newVy","limitedVelocity","v","max","len","setLength","BoundaryCollision","width","sys","canvas","window","innerWidth","height","innerHeight","applyBoundaryWrapping","GroupManager","forEach","_components$get","assignGroupToEntity","groupId","Error","assignGroupToNeighbor","neighborComponents","ColorManager","alpha","transitionStartTime","startColor","getRandomColor","targetColor","transitionProgress","min","interpolatedColor","interpolateColor","colorString","String","round","g","b","a","addColorComponent","colorComponent","endColor","fraction","Wobble","frequencyX","amplitude","phaseX","phaseY","frequencyY","getFrequencyX","getFrequencyY","getAmplitude","getPhaseX","getPhaseY","Wobbler","time","wobble","updateEntityWobble","offsetX","sin","offsetY","cos","initializeEntities","count","wobbleAmplitude","i","getRandomPosition","getRandomVelocity","getRandomWobble","vx","vy","frequency","PI","MainScene","gameSetupOptions","_objectSpread","boidsCount","transparency","GameSetup","game","_ref","config","gameRef","useRef","parentRef","useEffect","current","defaultConfig","type","parent","backgroundColor","physics","default","arcade","gravity","mode","RESIZE","autoCenter","CENTER_BOTH","React","ref","style","top","left","overflow","zIndex","App","Game","rootElement","getElementById","createRoot","render","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","every","key","splice","n","getter","__esModule","definition","o","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","nc","__webpack_exports__"],"sourceRoot":""}